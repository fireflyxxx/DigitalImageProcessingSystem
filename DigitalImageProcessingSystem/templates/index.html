<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字图像处理系统 - 首页</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header><h1>数字图像处理系统</h1></header>
    <nav>
        <div class="menu-item">
            <button id="enterSystemBtn" class="main-button">进入系统</button>
            <div id="mainSubMenu" class="sub-menu hidden"> <!-- 主子菜单 -->
                {% if menu_data %}
                    {% for category_name, options in menu_data.items() %}
                        <div class="sub-menu-item">
                            <!-- 类别按钮，点击展开该类别下的功能 -->
                            <button class="sub-button category-button"
                                    data-targetsubmenu="{{ category_name | lower | replace(' ', '_') | replace('功能', '') | trim('_') }}_submenu">
                                {{ category_name }}
                            </button>
                            <!-- 该类别下的功能列表 (子子菜单) -->
                            <div id="{{ category_name | lower | replace(' ', '_') | replace('功能', '') | trim('_') }}_submenu" class="sub-sub-menu hidden">
                                {% for key, display_name_short in options.items() %}
                                    <a href="{{ url_for('processing_page', option_category_key=category_name, option_name_key=key) }}" class="sub-sub-button">
                                        {{ display_name_short }}
                                    </a>
                                {% endfor %}
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p style="color: #ccc;">暂无功能选项</p>
                {% endif %}
            </div>
        </div>
    </nav>
    <main>
        <p>欢迎使用数字图像处理系统！请点击上方“进入系统”开始操作。</p>
    </main>
    <footer>
        <p>© 2023-2024 数字图像处理系统</p>
    </footer>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>